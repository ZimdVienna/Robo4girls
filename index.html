<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
    <link href="styles/styles.css" rel="stylesheet">

    <title>R4G</title>
	<!-- favicon files -->
	<link rel="apple-touch-icon" sizes="57x57" href="favicon/apple-icon-57x57.png">
	<link rel="apple-touch-icon" sizes="60x60" href="favicon/apple-icon-60x60.png">
	<link rel="apple-touch-icon" sizes="72x72" href="favicon/apple-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="76x76" href="favicon/apple-icon-76x76.png">
	<link rel="apple-touch-icon" sizes="114x114" href="favicon/apple-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="120x120" href="favicon/apple-icon-120x120.png">
	<link rel="apple-touch-icon" sizes="144x144" href="favicon/apple-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="152x152" href="favicon/apple-icon-152x152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-icon-180x180.png">
	<link rel="icon" type="image/png" sizes="192x192"  href="favicon/android-icon-192x192.png">
	<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="96x96" href="favicon/favicon-96x96.png">
	<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
	<link rel="manifest" href="favicon/manifest.json">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
	<meta name="theme-color" content="#ffffff">

    <!-- scripts for blockly code -->
    <script src="blockly/blockly_compressed.js"></script>
    <script src="blockly/blocks_compressed.js"></script>
    <script src="blockly/js/de.js"></script>
    <script src="blockly/javascript_compressed.js"></script>
</head>

<!-- body -->

<body ontouchstart="" id="body">
    <!-- ontouchstart="" enables low-delay CSS transitions. -->
	<ul id="navigation" style="float:right; margin-top: 3%;">
		<li class="dropdown">
			<button onclick="showMenu('programDropdown')" class="dropbtn button">Programm</button>
			<!-- Load/Save or Delete program from Dropdown menu -->
			<div id="programDropdown" class="dropdown-content" >
					<p class="tablinks" style="background: lightgray; margin-bottom:0%;margin-top:0%;font-size: 85%;">Programm wählen</p>
					<select id="generate" class="tablinks dropbtn select" onclick="createMenu()"></select>
					<button id="saveData" class="tablinks gray" onclick="save()">Speichern</button>
					<button id="restoreData" class="tablinks gray" onclick="restore()">Laden</button>
					<button class="tablinks gray" onclick="deleteItem()">Löschen</button>			
			</div>
		</li>
		<li class="dropdown">
			<button onclick="showMenu()" class="dropbtn button">Menu</button>
			<div id="myDropdown" class="dropdown-content" style="margin-left:120%">
				<button id="disconnect" class="tablinks gray">Trennen</button>
				<button id="endProgram" class="tablinks gray" onclick="end_program()">Beenden</button>
				<button class="tablinks gray" onclick="deleteAll()">Speicher leeren</button>
			</div>
		</li>
		<li class="bluetooth">
			<button id="connect" type="button" class="button blue">Verbinden</button>
		</li>
	</ul>
    <table>
        <tr>
            <!-- Title, Logo and Program commands -->
            <img src="media/logo/R4G_Logo_rose_gradient.png" class="logo" style="float:left; height:10%;">
        </tr>
        <tr>
            <td class="control_buttons">
                    <button id="start" onclick="handlePlay();" type="button" class="button green" style="float:left;font-size: 13px;padding-left:30px;padding-right:30px;">Start</button>
                    <button id="stop" type="button" class="button rosy" style="float:left; margin-left:20px;font-size: 13px;">Stopp</button>
            </td>
        </tr>
        <tr>
            <!-- Area for blockly workspace -->
            <td id="blocklyArea"></td>
        </tr>
    </table>

    <!-- script for bluetooth communication -->
    <script type="text/javascript" src="scripts/ble3.js"></script>
	<script type="text/javascript" src="scripts/controls.js"></script>

    <!-- blockly programming window -->
    <div id="blocklyDiv" style="position: absolute; margin-top:0.5%"></div>

    <!-- R4G blocks design -->
    <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none;">
        <!-- Category Movements -->
        <category name="LED-Anzeige" colour="#5ba593">
            <block type="show_text"></block>
            <block type="show_picture">
                <field name="pic">1</field>
                <field name="show_duration">1</field>
            </block>
            <block type="show_picture_async">
                <field name="picture">1</field>
            </block>
            <block type="leds_off"></block>
            <block type="show_value"></block>
        </category>

        <category name ="Fühlen" colour="195">
            <block type="temperature"></block>
        </category>

        <category name="Logic" colour="#5b80a5">
            <block type="c_if"></block>
            <block type="logic_compare">
              <field name="OP">EQ</field>
            </block>
            <!--
            <block type="logic_operation">
              <field name="OP">AND</field>
            </block>
            <block type="logic_negate"></block>
            <block type="logic_boolean">
              <field name="BOOL">TRUE</field>
            </block>
            <block type="math_rand_i">
                <value name="FROM">
                    <shadow type="math_number">
                        <field name="NUM">1</field>
                    </shadow>
                </value>
                <value name="TO">
                    <shadow type="math_number">
                        <field name="NUM">100</field>
                    </shadow>
                </value>
            </block>
            -->
            <block type="math_number">
                <field name="NUM">0</field>
            </block>
        </category>

        <category name="Bewegungen" colour="#5b5ba5">
            <block type="forward">
                <field name="forward_duration">0.1</field>
            </block>
            <block type="back">
                <field name="back_duration">0.1</field>
            </block>
            <block type="left">
                <field name="left_duration">0.1</field>
            </block>
            <block type="right">
                <field name="right_duration">0.1</field>
            </block>
            <block type="turn_left">
                <field name="turn_left_duration">0.1</field>
            </block>
            <block type="turn_right">
                <field name="turn_right_duration">0.1</field>
            </block>
        </category>

        <category name="Kombinationen" colour="290">
            <block type="dance">
                <field name="repeat">1</field>
                <field name="intensity">kurz</field>
            </block>
            <block type="zigzag">
                <field name="repeat">1</field>
                <field name="intensity">kurz</field>
            </block>
            <block type="shake">
                <field name="repeat">1</field>
                <field name="intensity">kurz</field>
            </block>
            <block type="pirouette">
                <field name="repeat">1</field>
                <field name="direction">Links</field>
            </block>
        </category>
        <!--
        <category name="Variables" colour="#a55b80" custom="VARIABLE"></category>
        -->
        <category name="Klänge" colour="#a55b5b">
            <block type="melody">
                <field name="melody">M1</field>
            </block>
            <!--
            <block type="sound">
                <field name="sound">K01</field>
            </block>
            -->
        </category>

        <category name="Einstellungen" colour="65">
            <block type="motor">
                <field name="motor">1</field>
                <field name="velocity">400</field>
            </block>
			<block type="turn_display" colour="#5ba593">
				<field name="degrees">0</field>
			</block>
        </category>

        <category name="Steuerung" colour="#5ba55b">
            <block type="repetition">
                <field name="repetition">1</field>
            </block>
			<block type="wait_seconds">
				<field name="seconds">0.1</field>
			</block>
			<block type="start_block"></block>
        </category>
    </xml>
	
	<!-- Making Toolbox visible and resizable in Web-browser -->
    <script src="scripts/blocklyArea.js"></script>
	
    <!-- Blockly R4G blocks script -->
    <script src="scripts/R4Gblocks.js"></script>

</body>

</html>
